# 실사용 테스트 가이드 (라이트/헤비 유저)

## 0) 문서 목적
- 실제 사용자 관점에서 앱을 처음부터 끝까지 사용해보며 기능, UX 흐름, 안정성을 함께 검증한다.
- 기능 단위 점검이 아니라 사용자 여정 기반(E2E)으로 검증한다.
- 본 문서는 다음 2개 사용자 군을 기준으로 한다.
  - 라이트 유저: 빠르게 운동 기록/저장을 완료하려는 사용자
  - 헤비 유저: 플랜/템플릿 커스터마이징, 분석, 운영 지표까지 보는 사용자

---

## 1) 공통 사전 준비

### 1-1. 실행 환경 확인
`/home/sharr/projects/workout-log/web` 기준:

```bash
pnpm run dev:check
pnpm install
pnpm db:migrate
pnpm db:seed
pnpm dev
```

검증 URL:
- 앱: `http://localhost:3000`

권장 브라우저/디바이스:
- Desktop: Chrome 최신 1개, Safari 또는 Firefox 1개
- Mobile viewport: iPhone 14 Pro(또는 유사 390x844), Android Pixel 계열 1개

### 1-2. 테스트 데이터 원칙
- 앱의 인증 유저는 서버 환경변수 `WORKOUT_AUTH_USER_ID`(미지정 시 `dev`)로 고정된다.
- 화면의 일부 `userId` 입력은 참고용 맥락 UI이며, 실제 권한/데이터 범위는 서버 인증 유저 기준이다.
- 테스트 전/후 데이터 보존이 필요하면 먼저 `설정 > 데이터 내보내기`에서 JSON 백업을 저장한다.

### 1-3. 증적(스크린샷/로그) 수집 규칙
각 테스트 케이스마다 최소 1개 이상 캡처:
- 성공 캡처: 기대 결과가 보이는 상태
- 실패 캡처: 에러/비정상 상태
- 캡처 파일명 예시: `L-05_add-exercise_success.png`, `H-09_ux-compare_fail.png`

### 1-4. 이슈 심각도 기준
- S1(치명): 저장 불가, 데이터 유실, 페이지 진입 불가
- S2(높음): 핵심 플로우는 가능하지만 우회 필요, 잘못된 데이터 저장
- S3(중간): UX 혼란/문구/상태 표시 문제, 재시도 시 해결 가능
- S4(낮음): 미세 UI 이슈, 가독성/정렬/카피 품질

---

## 2) 라이트 유저 테스트 가이드

## 2-0. 라이트 유저 정의
- 목표: 빠르게 오늘 운동을 기록하고 저장
- 행동 패턴: 복잡한 설정 최소화, 기본 모드 선호
- 성공 정의:
  - 플랜 준비 -> 세션 생성/적용 -> 운동 추가(옵션) -> 저장까지 5분 내 완료 가능

## 2-1. 라이트 유저 핵심 E2E 시나리오 맵
1. 홈에서 핵심 CTA 인지
2. 플랜 생성/선택
3. 오늘 운동 화면에서 기본 모드로 세션 생성/적용
4. 세트 입력/운동 추가
5. 로그 저장
6. 저장된 세션 상세 확인
7. 오프라인 fallback 검증

---

## 2-2. 라이트 테스트 케이스 상세

### L-01. 홈 첫 진입 인지성
목적:
- 첫 진입 시 핵심 액션(오늘 운동 시작, 커스텀 프로그램 만들기, 프로그램 선택 후 시작)이 명확한지 확인

절차:
1. `/` 진입
2. `빠른 시작` 섹션 확인
3. `고급 도구` 섹션이 분리되어 있는지 확인

기대 결과:
- 핵심 CTA 3개가 상단 `빠른 시작`에서 노출
- `권장 순서: 프로그램 준비 후 오늘 운동 시작.` 안내 문구 표시

실패 징후:
- CTA 누락 또는 고급 기능이 과도하게 먼저 노출됨
- 사용자 시작점이 모호한 카피

---

### L-02. 플랜 빠른 생성(단일)
목적:
- 초보 사용자가 최소 입력으로 플랜 생성 가능 여부 확인

절차:
1. 홈에서 `커스텀 프로그램 만들기` 진입 (`/plans/manage?create=1&type=SINGLE`)
2. 바텀시트 `플랜 만들기`가 자동 오픈되는지 확인
3. `SINGLE` 탭 상태 확인
4. 템플릿/버전 선택 후 `Create SINGLE Plan` 클릭

기대 결과:
- 시트가 즉시 열림
- 생성 성공 시 안내: `새 플랜 생성 완료: ...`
- 플랜 카드 목록 상단에 신규 플랜 표시

실패 징후:
- 시트 미오픈
- 버전 선택 불가/빈 목록 고착
- 생성 후 목록/선택 상태 갱신 실패

---

### L-03. 플랜 선택 후 오늘 운동 진입
목적:
- 플랜 선택이 운동 시작 링크에 반영되는지 확인

절차:
1. `/plans/manage`에서 생성된 플랜 `선택`
2. 같은 플랜 카드의 `오늘 운동` 클릭
3. 이동 URL에 `planId`, `date`, `autoGenerate=1` 파라미터 포함 확인

기대 결과:
- `/workout/today/log?...`로 이동
- 선택 플랜이 상단 플랜 셀렉트에 반영

실패 징후:
- 다른 플랜으로 진입
- planId 누락

---

### L-04. 기본 모드로 세션 생성/적용
목적:
- 라이트 유저 핵심 1순위 플로우 검증

절차:
1. `/workout/today/log`에서 `기본 모드` 상태 확인
2. `1) 세션 생성/적용` 클릭
3. `저장할 세트` 목록 생성 여부 확인

기대 결과:
- 성공 메시지: `계획 세트 N개를 불러와 적용했습니다 (...)`
- 세트 목록이 카드 형태로 표시
- 저장 버튼 활성화 조건 충족(플랜 선택 + 세트 1개 이상)

실패 징후:
- 생성 버튼 무반응
- 성공 메시지 없이 세트 미생성
- 저장 버튼 비활성 유지

---

### L-05. + 운동 추가(라이트 핵심 UX)
목적:
- 추가 운동을 2탭 수준으로 넣을 수 있는지 확인

절차:
1. `2) + 운동 추가` 클릭
2. 바텀시트에서 추천 운동 1개 탭
3. 다시 열어 검색어 입력 후 `"검색어" 직접 추가` 실행
4. 세트 리스트 최하단에 추가 행이 붙는지 확인

기대 결과:
- 추가 후 성공 메시지: `OO 운동을 추가했습니다.`
- 동일 운동명 추가 시 `setNumber`가 자동 증가
- 시트 닫힘 후 메인 세트 리스트 즉시 반영

실패 징후:
- 추가 후 리스트 미반영
- setNumber 중복/역순
- 시트에서 Enter 입력이 동작하지 않음

---

### L-06. 세트 입력 UX(행 단위)
목적:
- 라이트 유저가 입력/수정에 막히지 않는지 확인

절차:
1. 아무 세트 행에서 `반복`, `중량`, `RPE` 수정
2. `완료 후 다음` 클릭
3. `이전 복사` 클릭
4. `아래에 삽입` 클릭

기대 결과:
- `완료 후 다음` 시 완료 체크 + 다음 세트 자동 추가
- `이전 복사` 시 직전 세트 값 복사
- `아래에 삽입` 시 동일 운동 기준 다음 setNumber 생성

실패 징후:
- 값 입력 후 즉시 원복
- 버튼 동작은 했지만 행 추가/복사가 다른 운동으로 오염

---

### L-07. 온라인 저장 + 세션 상세 확인
목적:
- 저장 완료에서 상세 확인까지 끊김 없는지 확인

절차:
1. `3) 운동 기록 저장` 클릭
2. 성공 메시지 확인
3. 하단 `세션 상세 열기` 링크 클릭
4. 상세 페이지에서 `일치/누락/추가` 요약 및 비교표 확인

기대 결과:
- 성공 메시지: `로그를 저장했습니다: {logId}`
- `/workout/session/{logId}` 진입
- 비교표에서 계획/수행 차이 노출

실패 징후:
- 저장 성공 메시지나 링크 없음
- 상세에서 404/빈 데이터

---

### L-08. 빈 상태 구조 검증
목적:
- 세트가 없는 초보 사용자의 분기 UX 검증

절차:
1. 새 플랜/새 날짜로 이동해 세트 비어있는 상태 유도
2. `저장할 세트` 빈 상태 문구 확인
3. `생성 및 적용` 또는 `+ 운동 추가` 중 하나 실행

기대 결과:
- 빈 상태 안내와 해결 액션이 같은 영역에서 제공
- 액션 후 즉시 세트 목록 상태로 전환

실패 징후:
- 빈 상태에서 탈출 동선 부재

---

### L-09. 지난 운동 반복
목적:
- 라이트 유저가 반복 루틴을 빠르게 재사용 가능한지 확인

절차:
1. 이미 저장된 로그가 1개 이상 있는 상태
2. `지난 운동 반복` 클릭

기대 결과:
- 직전 로그 세트가 현재 입력 세트로 채워짐
- 성공 메시지에 직전 수행 시각 포함

실패 징후:
- 이전 로그가 있는데도 `이전 운동 기록이 없습니다.` 발생

---

### L-10. 오프라인 저장 및 자동 동기화
목적:
- 네트워크 불안정 환경에서 핵심 기능 지속성 검증

절차:
1. 브라우저 DevTools Network `Offline` 전환
2. 세트 1개 이상 상태에서 저장 실행
3. 온라인 복귀
4. 상단 배지/상태에서 대기 건수 감소 확인

기대 결과:
- 오프라인 저장 성공 메시지 표시
- `동기화 대기: N` -> 온라인 복귀 후 자동 동기화
- 필요 시 `지금 동기화` 수동 버튼 동작

실패 징후:
- 오프라인 저장 자체 실패
- 온라인 복귀 후 무기한 대기

---

### L-11. 라이트 유저 종료 기준(합격선)
- L-01 ~ L-10 중 S1/S2 이슈 0건
- 생성/추가/저장 E2E 1회 이상 완주
- 오프라인 fallback 1회 성공

---

## 3) 헤비 유저 테스트 가이드

## 3-0. 헤비 유저 정의
- 목표: 프로그램 설계, 세션 커스터마이징, 분석/운영 지표 기반 개선
- 행동 패턴: 템플릿 포크/버전, 복합 플랜, 오버라이드, 통계 비교 적극 사용
- 성공 정의:
  - 고급 기능이 많아도 플로우가 분절되지 않고 제어 가능
  - 커스터마이징 결과가 생성/기록/통계까지 일관되게 연결

## 3-1. 헤비 유저 핵심 E2E 시나리오 맵
1. 공개 템플릿 포크 -> 개인 템플릿 확보
2. 템플릿 버전 생성(로직/수동)
3. SINGLE/COMPOSITE/MANUAL 플랜 생성
4. 고급 모드에서 세션 생성/오버라이드/저장
5. 캘린더 기반 날짜 생성/열기
6. 통계 대시보드 필터/비교/내보내기
7. UX 기준치(글로벌/플랜별) 변경 및 반영 검증
8. 데이터 export 및 운영 텔레메트리 검증

---

## 3-2. 헤비 테스트 케이스 상세

### H-01. 템플릿 포크 (읽기 전용 -> 편집 가능 전환)
목적:
- 공개 템플릿을 개인 템플릿으로 전환해 편집 가능한지 검증

절차:
1. `/templates/manage` 진입
2. `공개 템플릿`에서 임의 템플릿 선택 후 `Fork`
3. `내 개인 템플릿` 목록에서 방금 포크한 slug 확인

기대 결과:
- 성공 알림: `Forked template: ...`
- 포크된 템플릿이 `PRIVATE`로 표시

실패 징후:
- 포크 성공 메시지 있는데 목록 미반영
- 포크 후에도 `버전 생성` 비활성

---

### H-02. 템플릿 버전 생성 (MANUAL)
목적:
- 수동 세션 편집기가 실제 버전 생성으로 이어지는지 검증

절차:
1. 개인 MANUAL 템플릿 선택
2. `수동 세션 편집`에서 Session/Item/Set 추가/수정
3. `새 버전 생성`에서 changelog 입력 후 `버전 생성`
4. `버전 기록` 테이블에 신규 버전 증가 확인

기대 결과:
- 성공 메시지: `{slug} v{n} 버전을 생성했습니다.`
- 기준 버전 셀렉트에 신규 버전 선택 가능

실패 징후:
- 편집 내용 일부만 저장
- 버전 번호 증가 누락

---

### H-03. 템플릿 버전 생성 (LOGIC)
목적:
- 로직 파라미터(Tm/Frequency/Weeks/Substitution) 변경 반영 검증

절차:
1. 개인 LOGIC 템플릿 선택
2. `로직 안전 파라미터` 변경
3. `Exercise substitutions` 1개 이상 추가
4. 버전 생성 후 다시 해당 버전 선택

기대 결과:
- 변경한 파라미터/대체 규칙이 버전 재선택 시 유지

실패 징후:
- 일부 필드가 기본값으로 돌아감

---

### H-04. 플랜 생성 3종
목적:
- SINGLE/COMPOSITE/MANUAL 생성 분기 모두 정상 동작 검증

절차:
1. `/plans/manage` -> `플랜 만들기`
2. `SINGLE` 생성 1회
3. `COMPOSITE`에서 Squat/Bench/Deadlift 템플릿/버전 지정 후 생성 1회
4. `MANUAL`에서 schedule(`A,B,A,B`) 지정 후 생성 1회

기대 결과:
- 각 타입 생성 성공 메시지 노출
- 플랜 카드에 타입별 신규 항목 추가

실패 징후:
- 특정 타입만 생성 불가
- 생성 후 카드 액션(`선택`, `빠른 생성`, `오늘 운동`) 오작동

---

### H-05. 고급 모드 생성 경로 4종
목적:
- 고급 생성 동작이 상호 충돌 없이 작동하는지 검증

절차:
1. `/workout/today/log`에서 `고급 모드` 전환
2. 다음 버튼 각각 실행:
   - `오늘 기준 생성`
   - `선택 날짜 생성`
   - `주차/일차 기준 생성`
   - `계획 세트 적용`
3. `생성 스냅샷`에서 exercises/blocks/manual/accessories 확인

기대 결과:
- 각 경로별 성공/에러 메시지가 명확
- 스냅샷 JSON 구조 노출

실패 징후:
- 생성은 되었는데 적용 불가
- 이전 생성 결과가 섞여 표시

---

### H-06. 세션 오버라이드
목적:
- 세션 단위 영구 변경 기능 검증

절차:
1. 세트에 `isExtra(추가)` 행 1개 준비
2. `세션 오버라이드` 시트 열기
3. `보조 운동 고정` 실행
4. `블록 대상 + 대체 운동 이름` 설정 후 `운동 교체`

기대 결과:
- 성공 메시지 후 해당 세션 재생성
- 재생성 결과에 accessory/replacement 반영

실패 징후:
- 오버라이드 성공 메시지 후 결과 미반영
- 계획/추가 상태 꼬임

---

### H-07. 캘린더 워크스페이스
목적:
- 날짜 중심 고급 운영 흐름 검증

절차:
1. `/calendar/manage` 진입
2. `view`를 month/week 전환
3. 날짜 셀에서 `생성` 실행
4. 같은 셀 `날짜 열기`로 오늘 운동 이동
5. `open action`을 `AUTO_GENERATE`로 바꾸고 재검증

기대 결과:
- 셀 상태 `생성됨/계획됨/즉시 생성` 표시 정확
- AUTO_GENERATE일 때 Today 진입 시 자동 생성 트리거

실패 징후:
- 캘린더에서 생성한 세션과 Today의 날짜 컨텍스트 불일치

---

### H-08. 통계 대시보드 필터/비교
목적:
- 고급 분석 UX와 데이터 연결성 검증

절차:
1. `/stats/dashboard` 진입
2. 프리셋 `7/30/90일` 전환 + 스와이프 전환
3. `필터` 시트에서 플랜/집계단위/day-range/exercise 변경
4. KPI(e1RM/볼륨/준수율)와 하단 표(운동별 볼륨, 플랜 준수율, PR)가 함께 갱신되는지 확인

기대 결과:
- 필터 변경이 요약 카드와 상세 표에 동기 반영
- 로딩/에러 상태가 섹션별로 분리되어 표시

실패 징후:
- 요약은 바뀌는데 표는 이전 데이터 유지

---

### H-09. UX 퍼널/요약/비교모드/내보내기
목적:
- UX 분석 핵심 기능 검증

절차:
1. 대시보드 `UX 퍼널 (서버 집계)` 카드 확인
2. `CSV 내보내기` 클릭 (다운로드 확인)
3. `UX 행동 요약`에서 `비교 모드` ON
4. `스냅샷 JSON`, `스냅샷 CSV` 다운로드 확인

기대 결과:
- 퍼널 단계/전환율/이탈구간 표시
- 비교 모드 테이블에 현재 vs 이전 지표 표시
- export 파일 응답 정상

실패 징후:
- compare toggle 후 표 비노출
- export 링크가 4xx/5xx

---

### H-10. UX 기준치(글로벌/플랜별) 반영 검증
목적:
- 설정값이 대시보드 임계치 계산에 반영되는지 확인

절차:
1. `/settings/ux-thresholds` 진입
2. 글로벌 3개 목표값 각각 1회 변경
3. 플랜 선택 후 플랜별 기준치 1회 변경
4. `/stats/dashboard` 복귀 후 임계치 카드의 목표치가 변경값으로 반영됐는지 확인
5. `플랜 오버라이드 해제` 후 글로벌 값으로 복귀하는지 확인

기대 결과:
- 저장 성공/롤백 안내 명확
- 플랜 선택 시 `plan override -> global` 우선순위 동작

실패 징후:
- 설정 화면에서는 저장 성공인데 대시보드 목표치 불일치

---

### H-11. 저장 정책 롤백 시뮬레이션
목적:
- 낙관적 업데이트 + 롤백 UX 검증

절차:
1. `/settings/save-policy` 진입
2. `다음 저장 실패` ON
3. `자동 동기화` 토글 또는 `시간대` 변경 실행
4. 실패 후 안내 문구 및 값 롤백 확인
5. 동일 row 재시도로 정상 저장 확인

기대 결과:
- 실패 시 row 단위 잠금/롤백/경고 문구 표시
- 재시도 시 성공 문구 노출

실패 징후:
- 실패했는데 값이 롤백되지 않음
- 전체 화면 잠금으로 UX 저하

---

### H-12. 데이터 내보내기
목적:
- 운영/분석 백업 경로 검증

절차:
1. `/settings/data` 진입
2. `JSON 다운로드` 실행
3. `CSV 다운로드` 실행

기대 결과:
- 파일 다운로드 즉시 시작
- JSON은 템플릿/플랜/세션/로그 포함
- CSV는 workout_set 행 기반

실패 징후:
- 다운로드 무반응
- CSV 타입 관련 400 에러

---

### H-13. 운영 마이그레이션 텔레메트리
목적:
- 운영 상태 가시성 기능 검증

절차:
1. `/stats/dashboard`의 `운영 마이그레이션 상태` 섹션 확인
2. 조회 프리셋(`2h/12h/24h/3일`) 전환
3. `문제 상태만 ON/OFF` 전환
4. JSON/CSV 링크 각각 다운로드

기대 결과:
- 필터 전환 시 표/요약 숫자 갱신
- critical/warn/ok 상태 배지가 일관 표시

실패 징후:
- 핵심 통계 로딩을 마이그레이션 섹션이 블로킹

---

### H-14. PWA 업데이트(선택 고급)
목적:
- 서비스워커 업데이트 UX 검증

절차(프로덕션 빌드 환경 권장):
1. 앱 설치/서비스워커 등록 상태 확인
2. 새 빌드 배포 후 `New version ready` 배너 확인
3. `Update` 클릭 후 새 SW 활성화 확인

기대 결과:
- 업데이트 후 새 버전으로 리로드

실패 징후:
- 업데이트 배너 반복 노출/갱신 루프

---

### H-15. 헤비 유저 종료 기준(합격선)
- H-01 ~ H-13 필수, H-14 선택
- S1/S2 이슈 0건
- 커스터마이징 결과가 생성/저장/통계까지 추적 가능

---

## 4) UX 흐름 품질 체크리스트 (라이트/헤비 공통)
- 첫 화면에서 다음 액션이 즉시 보이는가
- 실패 시 복구 동선이 같은 화면에서 제공되는가
- 로딩/에러 상태가 기능 단위로 분리되어 과도하게 막히지 않는가
- 성공 피드백 문구가 구체적인가(무엇이 저장/생성됐는지)
- 오프라인/온라인 전환 시 사용자가 현재 상태를 이해할 수 있는가
- 고급 기능이 기본 플로우를 방해하지 않는가

---

## 5) 테스트 실행 운영안 (권장)
1. 1차: 라이트 케이스만 실행 (약 40~60분)
2. 2차: 헤비 케이스 실행 (약 90~150분)
3. 3차: 발견 이슈 수정 후 라이트 핵심 회귀 (L-02, L-04, L-05, L-07, L-10)

---

## 6) 버그 리포트 템플릿

```md
[버그 ID]
- 케이스: (예: L-05)
- 심각도: (S1~S4)
- 환경: (브라우저/OS/디바이스/빌드 SHA)
- 재현 절차:
  1)
  2)
  3)
- 기대 결과:
- 실제 결과:
- 재현율: (예: 5/5)
- 첨부: (스크린샷/영상/콘솔로그)
- 비고:
```

---

## 7) 빠른 시작용 축약 체크리스트

라이트 유저 최소 통과:
- [ ] 플랜 생성 또는 선택
- [ ] 세션 생성/적용
- [ ] 운동 1개 추가
- [ ] 로그 저장
- [ ] 세션 상세 확인
- [ ] 오프라인 저장 후 온라인 동기화

헤비 유저 최소 통과:
- [ ] 템플릿 포크
- [ ] 새 버전 생성
- [ ] COMPOSITE 또는 MANUAL 플랜 생성
- [ ] 세션 오버라이드 1회 적용
- [ ] 통계 필터 + 비교모드 검증
- [ ] UX 기준치 변경 및 반영 확인
- [ ] JSON/CSV export 확인

